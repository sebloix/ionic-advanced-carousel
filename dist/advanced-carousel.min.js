!function(){"use strict";function e(e,o,r){function n(t,r,n,i){function l(){var e=null!==i.options.template?'template="'+i.options.template+'"':"";i.itemDirective=void 0===i.itemDirective?"carousel-generic-item":i.itemDirective;var t="<"+i.itemDirective+' ng-model="item" '+e+'on-select="vm.selectItem(item)" carousel-options="menuCarousel.options" ';return t+="></"+i.itemDirective+">"}i.el=r,i.options.trackBy=void 0!==n.trackBy?n.trackBy:"$index",i.options.trackBystr="$index"===i.options.trackBy?"$index":"item."+i.options.trackBy,i.options.carouselId=void 0!==n.carouselId?n.carouselId:i.options.carouselId;var a=i.options.animateIn?" animateIn":"",s='<div class="a-carousel">';i.options.pullRefresh.active&&(s+='<div class="spinner-wrapper" ng-if="vm.options.pullRefresh.loading"><ion-spinner icon="android"></ion-spinner></div>',s+='<span class="pullrefresh-indicator"><svg viewBox="0 0 64 64"><g><circle stroke-width="6" stroke-dasharray="135.26261239144287" stroke-dashoffset="16.51371474556214" r="26" cx="32" cy="32" fill="none" transform="scale(1,1) translate(0,0) rotate(0,32,32)"></circle></g></svg></span>'),s+='<div style="overflow-y:scroll;"',i.options.pullRefresh.active&&(s+='on-scroll="vm.onScroll()" '),s+='scrollbar-x="false" delegate-handle="'+i.options.carouselId+'" ><nav style="visibility:hidden;"><ul> <li ng-repeat="item in vm.arrayProvider track by '+i.options.trackBystr+'"class="carousel-item'+a+'"ng-class="{\'active\':vm.itemActive === item}">'+l()+"</li></ul></nav></div></div>",s=e(s)(t),r.append(s),o(function(){i.arrayProvider&&i.arrayProvider.length>0&&i.initCarousel()},0)}return{restrict:"E",replace:!0,template:"",scope:{},link:n,controller:t,controllerAs:"vm",bindToController:{carouselId:"@",itemDirective:"@",carouselOptions:"=",arrayProvider:"=",onSelect:"&"}}}function t(e,t,o,r,n){function i(){function t(e,t){var r;"object"==typeof t?(r=t.carouselId,angular.extend(m.options,t)):r=t,r===m.options.carouselId&&o(m.initCarousel,0)}function r(e,t){var o=t.idContains,r=t.except;m.options.carouselId.indexOf(o)>=0&&m.options.carouselId!==r&&(m.itemActive=null)}angular.extend(m.options,m.carouselOptions),e.$on("a-carousel.arrayupdated",t),e.$on("a-carousel.desactivateItem",r),m.options.pullRefresh.active&&e.$on("a-carousel.pullrefresh.done",p)}function l(){function e(){var t=parseInt(l[s-1].offsetWidth),r=parseInt(l[s-1].offsetHeight);t>0&&r>0?i():(console.log("[INFO] Creating Carousel but DOM not ready yet..."),g<h?o(function(){e()},50):console.log("[ERROR] Size item Carousel could not be determined",m.options.carouselId),g++)}function i(){var e,o=null!==m.options.selectAtStart.property;if(angular.forEach(l,function(t){e=m.arrayProvider[v],e.carouselId=m.options.carouselId,u+=t.offsetWidth,m.options.widthItem=Math.max(t.offsetWidth,m.options.widthItem),m.options.heightItem=Math.max(t.offsetHeight,m.options.heightItem),m.arrayProvider[v].widthItem=t.offsetWidth,o&&-1===m.options.selectAtStart.index&&e[m.options.selectAtStart.property]===m.options.selectAtStart.value&&(m.options.selectAtStart.index=v),v+=1}),m.options.centerOnSelect){var i=.5*r.innerWidth,s=l[0],g=l[d-1];p=i-.5*s.offsetWidth,f=i-.5*g.offsetWidth,u+=p+f,m.options.maxScroll=r.innerWidth-u,"right"===m.options.align?n.$getByHandle(m.options.carouselId).scrollTo(-1*m.options.maxScroll,0,!1):"center"===m.options.align?n.$getByHandle(m.options.carouselId).scrollTo(-.5*m.options.maxScroll,0,!1):n.$getByHandle(m.options.carouselId).scrollTo(0,0,!0)}else u+=4,m.options.maxScroll=r.innerWidth-u;m.options.widthCarousel=u,!o&&m.options.selectFirst?c("right"===m.options.align?m.arrayProvider[d-1]:m.arrayProvider[0]):o&&-1!==m.options.selectAtStart.index&&a(m.arrayProvider[m.options.selectAtStart.index]),m.navElem=t.find("nav"),m.navElem.css({width:u+"px",height:m.options.heightItem+"px",visibility:"visible","padding-left":p+"px"}),m.options.pullRefresh.active&&(m.pullrefreshIndicator=angular.element(document.querySelector(".a-carousel .pullrefresh-indicator")),m.svgElem=t.find("g"))}var l=t.find("li"),s=l.length,d=angular.element(l).length,u=0,p=0,f=0,v=0,g=0,h=15;if(m.itemActive=null,!(d>0))throw Error("Trying to create a carousel from an empty array",m.options);o(function(){e()},50)}function a(e){var t,o;if(c(e),m.options.centerOnSelect){var r=d(e);if(t=0,0===r)t=0;else for(o=0;o<r;o++)t+=.5*(m.arrayProvider[o].widthItem+m.arrayProvider[o+1].widthItem);n.$getByHandle(m.options.carouselId).scrollTo(t,0,!0)}}function s(){var e=n.$getByHandle(m.options.carouselId).getScrollPosition().left,t=0,o=0;if((m.options.maxScroll<0?e/m.options.maxScroll*-1:e/10)>1){t=(e- -1*m.options.maxScroll)/r.innerWidth,m.pullrefreshIndicator.css({transform:"translateX("+-56*o+"px)"})}t>.25&&e>0?(m.pullrefreshIndicator.css({transform:"translateX(0px)",display:"none"}),u()):(o=t/.2,m.svgElem[0].setAttribute("transform","rotate("+360*o+" 32 32)"),m.pullrefreshIndicator.css({transform:"translateX("+-56*o+"px)"}))}function c(t){m.itemActive=t,m.onSelect.call(null,{item:t}),e.$broadcast("a-carousel.itemselected",t)}function d(e){for(var t in m.arrayProvider)if(m.arrayProvider[t]===e)return t}function u(){m.options.pullRefresh.loading||(e.$apply(function(){m.options.pullRefresh.loading=!0}),n.$getByHandle(m.options.carouselId).freezeScroll(!0),m.navElem.css({width:m.options.widthCarousel+45+"px"}),n.$getByHandle(m.options.carouselId).resize(),m.options.pullRefresh.callBack())}function p(){m.options.pullRefresh.loading=!1,m.navElem.css({width:m.options.widthCarousel+"px"}),n.$getByHandle(m.options.carouselId).resize(),n.$getByHandle(m.options.carouselId).freezeScroll(!1),m.pullrefreshIndicator.css({transform:"translateX(0px)",display:"block"})}var m=this;m.options={showScroll:!1,carouselId:"my-carousel",template:null,align:"left",centerOnSelect:!0,widthItem:0,heightItem:0,trackBy:"$index",selectFirst:!0,selectAtStart:{property:null,value:null,index:-1},pullRefresh:{active:!1,callBack:angular.noop,loading:!1},animateIn:!1},m.initCarousel=l,m.selectItem=a,m.onScroll=s,i()}angular.module("aCarousel",[]).directive("aCarousel",e),e.$inject=["$compile","$timeout","$ionicScrollDelegate"],t.$inject=["$scope","$element","$timeout","$window","$ionicScrollDelegate"]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,templateUrl:function(e,t){return t.template},scope:{},controller:t,controllerAs:"vm",bindToController:{ngModel:"=",onSelect:"&",carouselOptions:"="}}}function t(e){function t(){e.$on("a-carousel.itemselected",function(e,t){o.selected=t===o.ngModel})}var o=this;o.selected=!1,t()}var o=document.getElementsByTagName("script");o[o.length-1].src;angular.module("aCarousel").directive("carouselGenericItem",e),t.$inject=["$scope"]}(),function(){"use strict";function e(){return{restrict:"E",replace:!0,template:'<a class="a-carousel-text-item"ng-bind="::vm.ngModel.display"ng-click="vm.onSelect({item:vm.ngModel})"></a>',scope:{},controller:t,controllerAs:"vm",bindToController:{ngModel:"=",onSelect:"&"}}}function t(e){function t(){e.$on("acarousel.itemselected",function(e,t){o.selected=t===o.ngModel})}var o=this;o.selected=!1,t()}angular.module("aCarousel").directive("carouselTextItem",e),t.$inject=["$scope"]}();